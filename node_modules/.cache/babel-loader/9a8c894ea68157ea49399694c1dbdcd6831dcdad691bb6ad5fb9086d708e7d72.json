{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KALOMASSA\\\\dev\\\\react-stellar-burger\\\\src\\\\components\\\\burger-constructor\\\\burger-constructor.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styles from \"./burger-constructor.module.css\";\nimport { DragIcon, ConstructorElement, CurrencyIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { ingredientPropType } from \"../../utils/prop-types\";\nimport PropTypes from \"prop-types\";\nimport Card from '../card/card';\nimport Modal from \"../modal/modal\";\nimport OrderDetails from \"../oreder-details/order-details\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst calcOrder = items => {\n  let total = 0;\n  items.forEach(ingredient => {\n    total += ingredient.price;\n  });\n  return total;\n};\nconst BurgerConstructor = props => {\n  _s();\n  const ingredients = props.data;\n  const bread = ingredients.find(item => item.type === 'bun');\n  const [isOpen, setIsOpen] = React.useState(false);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: styles.constructor_box,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-15 ${styles.constructor_container}`,\n      children: [/*#__PURE__*/_jsxDEV(ConstructorElement, {\n        type: \"top\",\n        isLocked: true,\n        text: `${bread.name} (верх)`,\n        price: bread.price,\n        thumbnail: bread.image,\n        extraClass: `ml-4`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: `custom-scroll ${styles.constructor_list}`,\n        children: ingredients.map(item => {\n          if (item.type !== 'bun') {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: styles.constructor_card,\n              children: [/*#__PURE__*/_jsxDEV(DragIcon, {\n                type: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(ConstructorElement, {\n                text: item.name,\n                price: item.price,\n                thumbnail: item.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 25\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 23\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(ConstructorElement, {\n        type: \"bottom\",\n        isLocked: true,\n        text: `${bread.name} (низ)`,\n        price: bread.price,\n        thumbnail: bread.image,\n        extraClass: `ml-4`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-10 mr-4 ${styles.total}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.price,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text text_type_digits-medium\",\n          children: calcOrder(ingredients)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CurrencyIcon, {\n          type: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        htmlType: \"button\",\n        type: \"primary\",\n        size: \"large\",\n        onClick: () => setIsOpen(true),\n        children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      handleClose: () => openCard(null),\n      isOpen: card,\n      header: \"Детали ингредиента\",\n      children: /*#__PURE__*/_jsxDEV(IngredientDetails, {\n        card: card\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n_s(BurgerConstructor, \"+sus0Lb0ewKHdwiUhiTAJFoFyQ0=\");\n_c = BurgerConstructor;\nBurgerConstructor.propTypes = {\n  data: PropTypes.arrayOf(ingredientPropType).isRequired\n};\nexport default BurgerConstructor;\nvar _c;\n$RefreshReg$(_c, \"BurgerConstructor\");","map":{"version":3,"names":["React","styles","DragIcon","ConstructorElement","CurrencyIcon","Button","ingredientPropType","PropTypes","Card","Modal","OrderDetails","jsxDEV","_jsxDEV","calcOrder","items","total","forEach","ingredient","price","BurgerConstructor","props","_s","ingredients","data","bread","find","item","type","isOpen","setIsOpen","useState","className","constructor_box","children","constructor_container","isLocked","text","name","thumbnail","image","extraClass","fileName","_jsxFileName","lineNumber","columnNumber","constructor_list","map","constructor_card","_id","htmlType","size","onClick","handleClose","openCard","card","header","IngredientDetails","_c","propTypes","arrayOf","isRequired","$RefreshReg$"],"sources":["C:/Users/KALOMASSA/dev/react-stellar-burger/src/components/burger-constructor/burger-constructor.jsx"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./burger-constructor.module.css\";\r\nimport { DragIcon, ConstructorElement, CurrencyIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {ingredientPropType} from \"../../utils/prop-types\";\r\nimport PropTypes from \"prop-types\";\r\nimport Card from '../card/card';\r\nimport Modal from \"../modal/modal\";\r\nimport OrderDetails from \"../oreder-details/order-details\";\r\n\r\n\r\nconst calcOrder = (items) => {\r\n    let total = 0;\r\n    items.forEach((ingredient) => {\r\n      total += ingredient.price;\r\n    })\r\n    return total;\r\n}\r\n\r\n\r\nconst BurgerConstructor = (props) => {\r\n\r\n    const ingredients = props.data;\r\n    const bread = ingredients.find(item => item.type === 'bun');\r\n\r\n    const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n    return (\r\n        <section className={styles.constructor_box}>\r\n            <div className={`mt-15 ${styles.constructor_container}`}>\r\n\r\n                <ConstructorElement\r\n                    type=\"top\"\r\n                    isLocked={true}\r\n                    text={`${bread.name} (верх)`}\r\n                    price={bread.price}\r\n                    thumbnail={bread.image}\r\n                    extraClass={`ml-4`}\r\n                />\r\n\r\n\r\n              <ul className={`custom-scroll ${styles.constructor_list}`}>\r\n                {ingredients.map((item) => {\r\n                if (item.type !== 'bun') {\r\n                  return (\r\n                      <li className={styles.constructor_card} key={item._id}>\r\n                        <DragIcon type=\"primary\" />\r\n                        <ConstructorElement\r\n                            text={item.name}\r\n                            price={item.price}\r\n                            thumbnail={item.image}\r\n                        />\r\n                      </li>\r\n                  )}}\r\n                )}\r\n              </ul>\r\n\r\n                <ConstructorElement\r\n                    type=\"bottom\"\r\n                    isLocked={true}\r\n                    text={`${bread.name} (низ)`}\r\n                    price={bread.price}\r\n                    thumbnail={bread.image}\r\n                    extraClass={`ml-4`}\r\n                />\r\n\r\n            </div>\r\n          <div className={`mt-10 mr-4 ${styles.total}`}>\r\n            <div className={styles.price}>\r\n              <p className=\"text text_type_digits-medium\">{calcOrder(ingredients)}</p>\r\n              <CurrencyIcon type=\"primary\" />\r\n            </div>\r\n            <Button htmlType=\"button\" type=\"primary\" size=\"large\" onClick={() => setIsOpen(true)}>\r\n              Оформить заказ\r\n            </Button>\r\n          </div>\r\n            <Modal handleClose={() => openCard(null)} isOpen={card} header={\"Детали ингредиента\"}>\r\n              <IngredientDetails card={card}></IngredientDetails>\r\n            </Modal>\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nBurgerConstructor.propTypes = {\r\n  data: PropTypes.arrayOf(ingredientPropType).isRequired\r\n};\r\n\r\nexport default BurgerConstructor;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}